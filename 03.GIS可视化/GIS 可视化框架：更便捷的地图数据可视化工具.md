- [GIS 可视化框架：更便捷的地图数据可视化工具](https://xie.infoq.cn/article/859030781bbc1f1e05d9b892b)



# 一、概述

GIS 可视化框架是依托浩鲸 GIS 能力开放平台产品构建的地图数据可视化应用框架，旨帮助客户以在线自助方式，进行可视化配置，按需构建所需地图，敏捷支持业务应用。运营商都已经普遍自建了 GIS 能力开放平台，通过构建可视化的地图服务方式实现对业务系统的支撑。目前运营商在地图数据可视化上面临的困境如下：

（1）构建地图服务流程繁冗，响应效率有待提升。

（2）不能支持用户在线按需构建地图，个性化支撑不足。

（3）对多源异构数据接入托管兼容不够，需兼容更多格式。

（4）缺乏对地图数据的有效管理，企业内部服务共享授权不灵活



如何快速定制最贴近业务的个性化地图服务，提升对业务系统的支撑效率，是运营商迫切需要解决的问题。



# 二、GIS 可视化框架架构及应用模式

### 整体架构

GIS 可视化框架，依托于 GIS 能力开放平台进行构建，作为平台功能提升的一个模块。在“平台+应用”的业务框架内，基于“敏捷、复用、解耦”的设计思想，通过将地图数据进行解析成图、地图可视化配置，最终以地图服务对外开放，快速响应对业务数据的可视化需求。

GIS 可视化框架的整体架构如下：

![img](https://static001.geekbang.org/infoq/ae/aefe09184e67557217cac8db9962c4ac.png) 

### 应用模式

GIS 可视化框架支持数据、服务在组织内的共享，同时通过流程化方式，对数据进行可视化配置，将完成制作的地图以服务方式进行开放。

可视化应用模式如下：

![img](https://static001.geekbang.org/infoq/29/292aeeaf18679989e8413de647f0671a.png) 

**（1）多源数据接入与共享**

支持用户将外部数据接入平台，为数据可视化做数据准备。外部数据支持 xlsx、csv、xml、GeoJSON、shp 等数据格式的导入，数据库支持 mysql、oracle、postgresql，同时支持数据服务接口方式接入。数据接入后，系统根据指定的几何图形字段对数据进行解析成图，以图形化（点、线、面）方式进行呈现。接入的数据和构建服务，通过灵活权限控制，支持在企业内部进行跨部门共享。

![img](https://static001.geekbang.org/infoq/5e/5e095d6ae30ea37ae614abbf713c8b1b.png) 

**（2）地图可视化配置**

此时地图并未进行符号化配置，本步骤主要是实现对数据进行符号化配置。

可视化框架提供了丰富的地图渲染风格和呈现样式配置选项，支持用户按照呈现需求进行个性化定制。支持散点图、分段图、单值图、热力图、聚簇图等不同风格的专题图效果，并在此基础上，可对呈现的颜色、符号进行调整，支持地图个性化定制。



![img](https://static001.geekbang.org/infoq/08/08da47349b2688a77a1b1f8d735c6a67.png) 



**（3）地图服务封装发布**

完成可视化配置后，支持将地图封装为服务，实现对外开放。开放范围支持用户指定，支持按个人、部门或全面公开等方式进行服务的开放共享。

![img](https://static001.geekbang.org/infoq/28/28c60babfc3d31b529167856c56a03a2.png) 



**（4）第三方应用快速集成**

在地图进行封装发布时，平台根据服务自动生成集成代码，用户将代码复制到 GIS 业务应用中，实现快速集成，有效降低了业务系统的集成开发工作量。

# 三、GIS 可视化框架工具特色

GIS 可视化框架支持用户以自助方式在线按需构建地图，对上层业务提供地图可视化服务支撑。地图数据可视化工具具备“极简、极融、极敏、极全、极柔”的特点。

![img](https://static001.geekbang.org/infoq/5d/5d4be55f142e8e224613aa64c0fd7448.png) 



### 极简：极简配置

平台提供 GIS 服务的无代码开发的配置能力，支持业务用户在平台上快速自助式构建所需地图，为专题应用提供 GIS 能力支撑。支持个性化 GIS 服务、展示风格、专题图等多种个性化的定制能力。

![img](https://static001.geekbang.org/infoq/6d/6dd37ce1cf01843bf780d023daef11f5.png) 



### 极融：一键集成，融合支撑

平台提供即拿即用的服务集成代码，用户在线构建的地图，对地图进行封装发布后，平台根据服务自动生成集成代码，用户一键复制，可快速将地图服务与上层应用在技术层面实现融合集成。

![img](https://static001.geekbang.org/infoq/f5/f56a6bad6c09fd4bd95d719f0d39fbec.png) 

### 极敏：按需构建，快捷响应

GIS 可视化框架支持用户将外部数据托管至平台，并提供丰富的专题图样式，用户可在线按需构建个性化地图，支撑上层应用的地图呈现的多样化需求。在响应速度上，相比通过传统的流程审批提供服务支持的方式，大大降低了响应时间，提升了响应效率。

![img](https://static001.geekbang.org/infoq/12/12e4daa1a6696e6d0b6b5db0681004ff.png) 

聚簇效果图

### 极全：支持多源、多元数据接入

GIS 可视化框架支持文件（shp、xml、geojson、csv、xls）、数据接口、数据库（oracle、mysql、postgresql）等多源异构数据接入，能够兼容当前主要的数据接入方式和数据格式，确保系统能够满足不同场景下的数据接入，支撑复杂、多源、多元的地理空间数据的接入整合。接入后对数据图形化呈现效果如下:



![img](https://static001.geekbang.org/infoq/fa/fadd43365d3c6f3260dabfa9b5d9637c.png) 

### 极柔：组织内灵活共享成果

GIS 可视化框架提供灵活的共享配置能力，可按用户、部门或组织进行分享，实现组织内部灵活分享地图数据和服务。支持用户将接入的数据、制作的地图在组织内部进行共享，同时也可以使用其他用户共享的数据或服务，提升组织内部数据资源的利用效能。



![img](https://static001.geekbang.org/infoq/05/058f87550027a6f961d4e8d4b891f20a.png) 

# 四、GIS 可视化框架的业务价值

**◉ 所见即所得的可视化配置方式，敏捷响应业务地图数据可视化呈现需求**

针对目前构建地图服务流程繁冗，响应效率滞后的情况，地图可视化工具的提供，为企业中的地图可视化需求部门提供了即拿即用的在线地图可视化制图环境，基于 B/S 架构无需用户安装，通过工具轻松实现业务数据上图，支持上层应用对数据进行基于地理的分析。

**◉ 聚合多源、多维度数据与服务，支撑个性化地图制作需求**

针对目前 GIS 能力开放平台不能支持用户在线按需构建地图，个性化支撑不足的问题，地图可视化工具通过将外部多源、多维度数据进行接入，并提供散点图、分段图、单值图、热力图、聚簇图等不同风格的专题图模板，以及完备的风格样式调整功能，为个性化地图的定制提供支持。

![img](https://static001.geekbang.org/infoq/ba/ba1cbe2c63ed894bc72dcadca14d17bc.png) 

◉ **灵活获取和分享资源，提升协同工作能力**

针对目前地图数据的缺乏有效管理，企业内部服务共享授权不灵活的情况，地图可视化工具通过接入外部数据，以在平台托管的方式实现对数据进行管理，包括支持对数据编辑调整、对外共享等处理。同时通过灵活共享配置功能，可以迅速高效地与其他业务部门共享数据、地图，提升企业各个业务部门之间的协同工作能力。

◉ **快速集成，降低开发成本提升 GIS 应用开发效率**

系统对完成配置的地图服务，提供快速集成至 GIS 应用页面中的代码，GIS 应用开发方使用提供的代码就可将可视化地图快捷地集成至应用中，相对于传统硬编码进行集成的方式，降低了对人员在 GIS 上的技能要求，提升应用的开发效率。

# 五、GIS 可视化框架的典型应用场景

地图数据可视化工具是用户实现多源数据及资源的管理与可视化、跨部门协同分享以及便捷发现和使用 GIS 资源的重要工具，是实现“平台+应用”模式落地的重要助力，而地图作为一种广泛通用的数据呈现方式，能够对多类需求进行支撑，部分典型场景如下。

**（1）支撑网格化管理**

在网格化管理中，需要将资源、用户、消费等数据进行上图和可视化，支撑网格化管理。而通过 GIS 可视化框架，可以实现对上述数据的快速可视化配置，并进行发布，为网格化管理提供 GIS 能力支撑，提升对应用的支撑效率。通过个性化配置，相比传统方式，可提供更炫，更丰富的专题图呈现方式。

![img](https://static001.geekbang.org/infoq/b6/b61f6b585d7fba60b3b521cda83d5684.png) 

网格化地图服务效果

**（2）支持经营管理分析决策**

在经营管理分析过程中，需要将各类经营数据进行可视化呈现，将经营数据或者数据分析结果形象地表现在地图上，使得管理者可以更加容易理解数据规律和趋势，为企业的经营管理决策提供可视化手段。利用 GIS 可视化框架，可以对各类经营数据进行快速可视化，为管理者的经营分析决策提供支持。

![img](https://static001.geekbang.org/infoq/dc/dcbac57d94dcf789cda0f6c5cd96cde3.png) 

热力图方式呈现区域业务热度

 **(3) 支撑大屏展示，快速构建可视化视图**

在大屏展示场景中，需要将相关的空间数据进行快速可视化，以大屏的方式进行呈现，传统方式采用对数据图形化、配图、服务发布等操作，耗时长、地图风格调整不灵活，在响应及时度上难以满足场景需求。而通过 GIS 数据可视化框架，通过将数据快速接入，以所见即所得方式进行在线可视化配置，实现信息的快速发布与展示，能够及时满足地图数据可视化需求。

![img](https://static001.geekbang.org/infoq/c8/c8fefc1fe79be3cf494b8bc279993655.png) 

大屏风格的专题图呈现