- [轨迹系列1——一种基于路网图层的GPS轨迹优化方案](https://www.cnblogs.com/naaoveGIS/p/6486259.html)

## 1.背景

GPS数据正常情况下有20M左右的偏移，在遇到高楼和桥梁等情况下偏移会更大。本方案讨论基于路网图层如何来进行轨迹优化。

## 2.数据预处理

整套数据预处理围绕拓扑检查、节点打断来进行，具体步骤为：

a.新建数据集。

b.导入道路图层。

c.新建拓扑规则。

d.进行拓扑操作。

e.导出处理后的数据。

 ![img](https://images2015.cnblogs.com/blog/656746/201703/656746-20170301204856735-1686073763.png)

 

## 3.匹配算法设计

​                         ![img](https://images2015.cnblogs.com/blog/656746/201703/656746-20170301204911251-1906043172.png)

 

## 4.实现描述

使用Geotools进行路网数据的处理，将算法集成至Geoserver中，通过URL（OWS）访问。进行优化后的轨迹如下图所示，可见轨迹都被纠正至路网中。

 ![img](https://images2015.cnblogs.com/blog/656746/201703/656746-20170301204925016-22990886.png)

## 5.扩展——基于AGS的NA服务

 

高级版的arcgis server提供了轨迹分析（NA）服务，可以直接用来进行轨迹优化。其路网数据处理上稍微繁琐一些，最后将处理完后的数据发布成NA服务，便能基于该服务进行路径优化了。

 ![img](https://images2015.cnblogs.com/blog/656746/201703/656746-20170301204946313-65005762.png)

## 6.缺点讨论

a.该方案必须基于路网。

b.如果路网不够全面，纠正至路网上的轨迹很可能严重失真。

c.因为数据已经进行了纠正，轨迹里程数不真实。

d.由于是后发性匹配，所以当同一个请求中需要匹配的轨迹点太多时效率不高。

## 7.提出几个设想

基于路网的轨迹纠正，能将杂乱的轨迹点纠正至路网上，使得展示美观。但是，由于路网数据的限制，使其真实性等都不够严谨。所以，我们能否实现这样几个设想。

a.不基于路网数据，跟具历史轨迹数据，使用滤波算法、机器学习来进行轨迹纠正？

b.能否基于海量的轨迹数据，进行路网的自建和更新？

带着设想前行。

